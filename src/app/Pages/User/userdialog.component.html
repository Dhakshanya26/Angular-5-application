<div class="user-dialog">
    <h2 mat-dialog-title>Edit User</h2>
    <form novalidate [formGroup]="updateForm" (ngSubmit)="updateFormSubmit()" *ngIf="updateForm">
        <mat-dialog-content>
            <div>
                <mat-error *ngIf="customerror">{{customerror}}</mat-error>
                <mat-form-field>
                    <input matInput placeholder="Change your Firstname" formControlName="firstname">
                    <mat-error *ngIf="firstname.invalid">{{getFirstNameErrorMessage()}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Change your Lastname" formControlName="lastname">
                    <mat-error *ngIf="lastname.invalid">{{getLastNameErrorMessage()}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput="email" placeholder="Change email address" formControlName="email">
                    <mat-error *ngIf="email.invalid">{{getErrorMessage()}}</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Change your password" [type]="hide ? 'password' : 'text'" formControlName="password">
                    <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>
                    <mat-error *ngIf="password.invalid">{{getPasswordErrorMessage()}}</mat-error>
                </mat-form-field>

                <mat-form-field>
                    <mat-select placeholder="Role"  formControlName="selectedRole" >            
                      <mat-option [value]="option.RoleId" *ngFor="let option of userRoles">{{option.RoleName}}</mat-option>
                    </mat-select>
                  </mat-form-field>

                <mat-progress-spinner *ngIf="isLoading" class="loading-div" color="accent" mode="indeterminate" value="loading">
                </mat-progress-spinner>
            </div>
        </mat-dialog-content>
        <mat-dialog-actions>
            <button mat-raised-button mat-dialog-close>Cancel</button>
            <button mat-raised-button [disabled]="isLoading || !updateForm.valid" color="accent" (ngSubmit)="updateFormSubmit()">Save</button>
        </mat-dialog-actions>
    </form>
</div>